<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:body>
	<ui:composition template="template.xhtml">
		<ui:define name="content">
			<h:form id="main">
				<div style="text-align: center;">
					<h2>
						<h:outputText value="Concluded Data Contract" />
					</h2>
					
					<p:dataTable var="thing" value="#{cdc.things}">
						<f:facet name="header">
				            Selected Things
				        </f:facet>
						<p:column >
							<p:accordionPanel>
								<p:tab title="#{thing.thingId}">
									<h:panelGrid columns="2" cellpadding="10">
										<h:outputText value="Resource ID" />
										<h:outputText value="#{thing.resourceId}" />
										<h:outputText value="Description" />
										<h:outputText value="#{thing.description}" />
									</h:panelGrid>
								</p:tab>
								<p:tab title="Data Sample">
									<h:panelGrid columns="1" cellpadding="10">
										<h:outputText value="#{thing.dataSample}" />
									</h:panelGrid>
								</p:tab>
								<p:tab title="Thing Quality of Data and Service">
									<h:panelGrid columns="2" cellpadding="10">
										<h:outputText value="Completeness (%)" />
										<h:outputText value="#{thing.qod.completeness}" />
										
										<h:outputText value="Conformity (%)" />
										<h:outputText value="#{thing.qod.conformity}" />
										
										<h:outputText value="Accuracy (in %)" />
										<h:outputText value="#{thing.qod.accuracy}" />
										
										<h:outputText value="Consistency (in %)" />
										<h:outputText value="#{thing.qod.consistency}" />
										
										<h:outputText value="Timeliness (in ms)" />
										<h:outputText value="#{thing.qod.timeliness}" />

										<h:outputText value="Broadcasting Frequency (in ms)"/>
										<h:outputText value="#{thing.qos.frequency}" />

										<h:outputText value="Availability (in %)" />
										<h:outputText value="#{thing.qos.availability}" />
									</h:panelGrid>
									
								</p:tab>
							</p:accordionPanel>
						</p:column>
					</p:dataTable>
					
					<p:wizard style="margin-top: 1em;">
						<p:tab id="deviceDataRights" title="Data Rights">
							<p:panel header="Data Rights">
								<h:panelGrid columns="2" cellspacing="10" columnClasses="regcol1, regcol2" styleClass="regtable">
									<h:outputText value="Data Derivation"/>
									<p:selectBooleanButton disabled="true" value="#{cdc.dataContract.dataRights.derivation}" onLabel="Yes" offLabel="No" />
									
									<h:outputText value="Data Collection"/>
									<p:selectBooleanButton disabled="true" value="#{cdc.dataContract.dataRights.collection}" onLabel="Yes" offLabel="No" />
									
									<h:outputText value="Data Reproduction"/>
									<p:selectBooleanButton disabled="true" value="#{cdc.dataContract.dataRights.reproduction}" onLabel="Yes" offLabel="No" />
									
									<h:outputText value="Commercial Usage"/>
									<p:selectBooleanButton disabled="true" value="#{cdc.dataContract.dataRights.commercialUsage}" onLabel="Yes" offLabel="No" />
								</h:panelGrid>
							</p:panel>
						</p:tab>
						<p:tab id="devicePricingModel" title="Pricing Model">
							<p:panel header="Pricing Model">
								<h:messages styleClass="jsfMessages" errorClass="errorMessages" infoClass="infoMessages" />
								<h:panelGrid columns="3" cellspacing="10" columnClasses="regcol1, regcol2, regcol3" styleClass="regtable">
									<h:outputText value="Currency" />
									<p:selectOneMenu disabled="true" id="car" value="#{cdc.dataContract.pricingModel.currency}" >
										<f:selectItem itemLabel="EUR" itemValue="EUR" />
										<f:selectItem itemLabel="USD" itemValue="USD" />
									</p:selectOneMenu>
									<h:outputText value=""/>
									
									<h:outputText value="Price"/>
									<p:inputText disabled="true" id="pm_price" value="#{cdc.dataContract.pricingModel.price}" 
										required="true"
										requiredMessage="Please provide a value!"
										converterMessage="Please provide a number between 0.001 and 1000000."
										validatorMessage="Please provide a number between 0.001 and 1000000." title="Number representing the value e.g., 0.01 or 100">
										<f:validateDoubleRange minimum="0.001" maximum="1000000" />
									</p:inputText>
									<p:watermark for="pm_price" value="0.01" />
									
									<h:outputText value="Payment"/>
									<p:selectOneRadio disabled="true" value="#{cdc.dataContract.pricingModel.transaction}" immediate="true"  > 
										<f:selectItem itemLabel="Transaction" itemValue="true"  />
			           					<f:selectItem itemLabel="Subscription" itemValue="false" />
			           					<f:ajax render="@form" execute="@this pm_price"/>
									</p:selectOneRadio>
									<h:outputText value=""/>
									
									<h:outputText value="Number of transactions" rendered="#{cdc.dataContract.pricingModel.transaction}" />
									<p:inputText disabled="true" id="nr_trans" value="#{cdc.dataContract.pricingModel.numberOfTransactions}" 
										rendered="#{cdc.dataContract.pricingModel.transaction}"
										required="true"
										requiredMessage="Please provide a value!"
										converterMessage="Please provide a number between 1 and 1000000."
										validatorMessage="Invalid number format" title="Number representing the value e.g., 1 or 100">
										<f:validateLongRange minimum="1" maximum="1000000" />
									</p:inputText>
									<p:watermark for="nr_trans" value="100" rendered="#{cdc.dataContract.pricingModel.transaction}" />
									
									<h:outputText value="Start date" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									<p:calendar disabled="true" value="#{cdc.dataContract.pricingModel.subscription.startDate}" 
										required="true"
										requiredMessage="Please provide a value!"
										pattern="dd.MM.yyyy HH:mm:ss" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									<h:outputText value="" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									
									<h:outputText value="End date" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									<p:calendar disabled="true" value="#{cdc.dataContract.pricingModel.subscription.endDate}" 
										required="true"
										requiredMessage="Please provide a value!"
										pattern="dd.MM.yyyy HH:mm:ss" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									<h:outputText value="" rendered="#{!cdc.dataContract.pricingModel.transaction}"/>
									
								</h:panelGrid>
							</p:panel>
						</p:tab>
						<p:tab id="devicePurchasingPolicy" title="Purchasing Policy">
							<p:panel header="Purchasing Policy">
								<h:messages styleClass="jsfMessages" errorClass="errorMessages" infoClass="infoMessages" />
								<h:panelGrid columns="3" cellspacing="10" columnClasses="regcol1, regcol2, regcol3" styleClass="regtable">
									<h:outputText value="Contract termination" />
									<h:inputTextarea disabled="true" id="contractTermination" value="#{cdc.dataContract.purchasingPolicy.contractTermination}" cols="50"/>
									<p:watermark for="contractTermination" value="Sample Clause..."/>
									
									<h:outputText value="Refund" />
									<h:inputTextarea disabled="true" id="refunds" value="#{cdc.dataContract.purchasingPolicy.refund}" cols="50" />
									<p:watermark for="refunds" value="Sample Clause..."/>
									
									<h:outputText value="Shipping" />
									<h:inputTextarea disabled="true" id="shipping" value="#{cdc.dataContract.purchasingPolicy.shipping}" cols="50" />
									<p:watermark for="shipping" value="Sample Clause..."/>
								</h:panelGrid>
							</p:panel>
						</p:tab>
						<p:tab id="controlAndRelationship" title="Control and Relationship">
							<p:panel header="Control and Relationship">
								<h:messages styleClass="jsfMessages" errorClass="errorMessages" infoClass="infoMessages" />
								<h:panelGrid columns="3" cellspacing="10" columnClasses="regcol1, regcol2, regcol3" styleClass="regtable">
									<h:outputText value="Warranty" />
									<h:inputTextarea disabled="true" id="warranty" value="#{cdc.dataContract.controlAndRelationship.warranty}" cols="50" />
									<p:watermark for="warranty" value="Sample Clause..."/>
									
									<h:outputText value="Indemnity" />
									<h:inputTextarea disabled="true" id="indemnity" value="#{cdc.dataContract.controlAndRelationship.indemnity}" cols="50" />
									<p:watermark for="indemnity" value="Sample Clause..."/>
									
									<h:outputText value="Liability" />
									<h:inputTextarea disabled="true" id="liability" value="#{cdc.dataContract.controlAndRelationship.liability}" cols="50" />
									<p:watermark for="liability" value="Sample Clause..."/>
									
									<h:outputText value="Juristiction" />
									<h:inputTextarea disabled="true" id="juristiction" value="#{cdc.dataContract.controlAndRelationship.juristiction}" cols="50" />
									<p:watermark for="juristiction" value="Sample Clause..."/>
								</h:panelGrid>
							</p:panel>
						</p:tab>
					</p:wizard>
					
					<br/>
					
					<br/>
					
					<p:commandButton value="Back To Concluded Contracts" action="#{navi.listConcludedContracts}" style="text-align: left;" ajax="false" />
					
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>